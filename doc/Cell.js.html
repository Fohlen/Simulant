<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Cell.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Automat.html">Automat</a><ul class='methods'><li data-type='method'><a href="Automat.html#.fill">fill</a></li><li data-type='method'><a href="Automat.html#.loop">loop</a></li></ul></li><li><a href="Cell.html">Cell</a><ul class='methods'><li data-type='method'><a href="Cell.html#.absorb">absorb</a></li><li data-type='method'><a href="Cell.html#.live">live</a></li></ul></li><li><a href="Oxygen.html">Oxygen</a></li><li><a href="Room.html">Room</a><ul class='methods'><li data-type='method'><a href="Room.html#.apply">apply</a></li><li data-type='method'><a href="Room.html#.findTriangle">findTriangle</a></li><li data-type='method'><a href="Room.html#.neighbours">neighbours</a></li><li data-type='method'><a href="Room.html#.push">push</a></li><li data-type='method'><a href="Room.html#sequence2D">sequence2D</a></li></ul></li></ul><h3>Interfaces</h3><ul><li><a href="Rule.html">Rule</a><ul class='methods'><li data-type='method'><a href="Rule.html#.absorb">absorb</a></li><li data-type='method'><a href="Rule.html#.live">live</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#Color">Color</a></li><li><a href="global.html#defaultRule">defaultRule</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Cell.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Represents a cell.
 * TODO: Add an evented API
 */
class Cell {
    /**
     * @constructor
     * @param {Attribute[]} attributes
     */
    constructor(attributes) {
        this.attributes = new Map();
        this.alive = true;
        let self = this;
        
        attributes.forEach(function(element) {
           self.attributes.set(element.name, element); 
        });
        
    }
    
    /**
     * @member Cell.attributes
     * @type {Map.&lt;string, Attribute>}
     */
    
    /**
     * Spend the living costs for each attribute according to it's rule set.
     * @function
     * @name Cell.live
     */
    live() {
        this.attributes.forEach(function(element, index) {
            var cornucopia = this.attributes[index].cornucopia;

            var spending = this.attributes[index].Rule.live(element);
            if (cornucopia > 0 &amp;&amp; spending &lt; cornucopia) {
                this.attributes[index].cornucopia = cornucopia - spending; // Reduce cornucopia
            } else {
                this.alive = false; // Kill the cell
            }
        });
    };
    
    /**
     * The cell absorbs the given attribute(s).
     * In case there is a spill-over the cell will automatically distribute it's goods. 
     * @function
     * @name Cell.absorb
     * @param {Attribute[]} attributes
     * @return {float[]}  Returns an array of spill-over's in the order of attributes given
     */
    absorb(soak) {
        var res = {};
        
        attributes.forEach(function(element) {
            var spillover = this.attributes[element.name].Rule.absorb(element, element.cornucopia);
            this.attribute[element.name].cornucopia = this.attribute[element.name].cornucopia + spillover[0];
            res.push(spillover[1]);
        });
    }
}

module.exports = Cell;</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Mon Jun 06 2016 18:50:40 GMT+0200 (CEST) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
